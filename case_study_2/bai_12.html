<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Bài 12</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
		<link rel="stylesheet" href="../../bootstrap-5.1.3-dist/css/bootstrap.css" />
		<script src="../bootstrap-5.1.3-dist/js/bootstrap.js"></script>
		<style>
			body {
				font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
				margin: 30px;
				font-size: 20px;
			}
		</style>
	</head>
	<body>
		<h1>Xây dựng hệ thống quản lí học viên CodeGym</h1>
		<br />
		<button class="btn-light" onclick="addNewStudent()">Thêm mới học viên</button>
		<button class="btn-light" onclick="editStudent()">Sửa thông tin học viên</button>
		<button class="btn-light" onclick="deleteStudent()">Xoá học viên</button>
		<div id="result"></div>
		<script>
			class Student {
				constructor(id, name, grade, email, date) {
					this.id = id;
					this.name = name;
					this.grade = grade;
					this.email = email;
					this.date = date;
				}
			}
			let student1 = new Student("HV - 0001", "Nguyễn Văn A", "C1022G1", "nguyenvana@gmail.com", "01/01/2004");
			let student2 = new Student("HV - 0002", "Nguyễn Văn B", "C1122G1", "nguyenvanb@gmail.com", "02/02/2004");
			let student3 = new Student("HV - 0003", "Nguyễn Văn C", "C1222G1", "nguyenvanc@gmail.com", "03/03/2004");
			let data = [student1, student2, student3];
			function display(list) {
				tableStrings = `<br><table class="table table-danger table-striped">
			                                     <tr>
			                                         <th>Mã học viên</th>
			                                         <th>Tên</th>
			                                         <th>Lớp</th>
			                                         <th>Email</th>
			                                         <th>Ngày sinh</th>
			                                     </tr>`;
				for (let i = 0; i < list.length; i++) {
					tableStrings += `<tr>
			                              <td>${list[i].id}</td>
			                              <td>${list[i].name}</td>
			                              <td>${list[i].grade}</td>
			                              <td>${list[i].email}</td>
			                              <td>${list[i].date}</td>
			                         </tr>`;
				}
				tableStrings += `</table>`;
				document.getElementById("result").innerHTML = tableStrings;
			}
			display(data);

			function enterId(id) {
				let value = prompt(`Nhập ${id}: `).trim();
				while (!value) {
					value = prompt(`Nhập lại ${id}: `).trim();
				}
				return value;
			}
			function enterName(name) {
				let value = prompt(`Nhập ${name}: `).trim();
				while (!value || value.length > 50) {
					if (!value) {
						value = prompt(`Nhập lại ${name}: `).trim();
					} else if (value.length > 50) {
						value = prompt(`Tên không được vượt quá 50 ký tự. Nhập lại ${name}: `).trim();
					}
				}
				return value;
			}
			function enterGrade(grade) {
				let value = prompt(`Nhập ${grade}: `).trim();
				while (!value) {
					value = prompt(`Nhập lại ${grade}: `).trim();
				}
				return value;
			}
			function enterEmail(email) {
				let value = prompt(`Nhập ${email}: `).trim();
				while (!value) {
					value = prompt(`Nhập lại ${email}: `).trim();
				}
				return value;
			}
			function enterDate(date) {
				let value = prompt(`Nhập ${date}: `).trim();
				while (!value) {
					value = prompt(`Nhập lại ${date}: `).trim();
				}
				return value;
			}

			function addNewStudent() {
				let newId = enterId("mã sinh viên");
				let newName = enterName("tên sinh viên");
				let newGrade = enterGrade("lớp sinh viên");
				let newEmail = enterEmail("email sinh viên");
				let newDate = enterDate("ngày sinh sinh viên theo dạng dd/mm/yyyy ");
				let newStudent = new Student(newId, newName, newGrade, newEmail, newDate);
				data.push(newStudent);
				display(data);
			}

			function editStudent() {}
		</script>
	</body>
</html>
