<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Bài 4</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="../../bootstrap-5.1.3-dist/css/bootstrap.css" />
        <script src="../bootstrap-5.1.3-dist/js/bootstrap.js"></script>
        <style>
            body {
                font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
                margin: 30px;
                font-size: 20px;
            }
        </style>
	<body>
        <h1>Quản lý khách hàng của 1 công ty bất động sản</h1>
        <br />
		<button class="btn-light" onclick="addNewCustomer()">Thêm mới khách hàng</button>
        <div id="result"></div>
        <script>
            class Customer {
                constructor (id, name, phone, address, email){
                    this.id = id;
                    this.name = name;
                    this.phone = phone;
                    this.address = address;
                    this.email = email;
                }
            }
            let customer1 = new Customer ("KH - 01", "Nguyễn Thị Hương Giang", "0912456581", "Hà Nam", "giang@gmail.com" );
            let customer2 = new Customer ("KH - 02", "Chu Phương Thảo", "0965789012", "Hà Tây", "thao@gmail.com" );
            let customer3 = new Customer ("KH - 03", "Đinh Thanh Hằng", "0352768961", "Hà Nội", "hang@gmail.com" );
            let customer4 = new Customer ("KH - 04", "Trần Huyền Trân", "0123567234", "Hà Nội", "tran@gmail.com" );
            let data = [customer1, customer2, customer3, customer4]

            function display(data){
                tableStrings = `<br><table class="table table-danger table-striped">
                                     <tr>
                                        <th>Mã khách hàng</th>
                                        <th>Tên khách hàng</th>
                                        <th>Số điện thoại</th>
                                        <th>Địa chỉ</th>
                                        <th>Email</th>
                                    </tr>`;
                 for (let i =0; i<data.length; i++){
                    tableStrings += `<tr>
                                        <td>${list[i].id}</td>
                                        <td>${list[i].name}</td>
                                        <td>${list[i].phone}</td>
                                        <td>${list[i].address}</td>
                                        <td>${list[i].email}</td>
                                     </tr>`
                 }
                 tableStrings += `</table>`;
                 document.getElementById("result").innerHTML = `${tableStrings}`        
            }
            display(data);

            function enterId (id){
                let value = prompt(`Nhập ${id}: `).trim();
				while (!value) {
					value = prompt(`Nhập lại ${id}: `).trim();
				}
				return value;
            }
            function enterName (name){
                let value = prompt(`Nhập ${name}: `).trim();
				while (!value) {
					value = prompt(`Nhập lại ${name}: `).trim();
				}
				return value;
            }
            function enterPhone (phone){
                let value = prompt(`Nhập ${phone}: `).trim();
				while (!value) {
					value = prompt(`Nhập lại ${phone}: `).trim();
				}
				return value;
            }
            function enterAddress (address){
                let value = prompt(`Nhập ${address}: `).trim();
				while (!value) {
					value = prompt(`Nhập lại ${address}: `).trim();
				}
				return value;
            }
            function enterEmail (email){
                let value = prompt(`Nhập ${email}: `).trim();
				while (!value) {
					value = prompt(`Nhập lại ${email}: `).trim();
				}
				return value;
            }
            
            function addNewCustomer(){
                let newId = enterId("mã khách hàng");
                let newName = enterName("tên khách hàng");
                let newPhone = enterPhone("số điện thoại");
                let newAddress = enterAddress("địa chỉ");
                let newEmail = enterEmail("email");
                
                let newCustomer = new Customer (newId, newName, newPhone, newAddress, newEmail);
                data.push(newCustomer);
                display(data);
            }
            
        </script>
    </body>
</html>
